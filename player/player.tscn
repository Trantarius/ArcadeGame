[gd_scene load_steps=16 format=3 uid="uid://ccgupredk0a3f"]

[ext_resource type="Script" path="res://player/Player.gd" id="1_n287t"]
[ext_resource type="Script" path="res://player/camera.gd" id="2_ccbte"]
[ext_resource type="Shader" path="res://rocket_particles.gdshader" id="2_cdxa1"]
[ext_resource type="Script" path="res://Interpolator.gd" id="2_kqvhg"]
[ext_resource type="Shader" path="res://ambientparticles.gdshader" id="3_khmqt"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_tuyrf"]
bounce = 0.5

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_3i2nj"]
blend_mode = 1

[sub_resource type="Gradient" id="Gradient_y54fx"]
offsets = PackedFloat32Array(0, 0.472527, 1)
colors = PackedColorArray(1, 0.596078, 0.290196, 1, 0.321569, 0.321569, 0.321569, 0.27451, 0.4, 0.4, 0.4, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ihtil"]
gradient = SubResource("Gradient_y54fx")

[sub_resource type="Curve" id="Curve_avfpp"]
max_value = 8.0
_data = [Vector2(0, 0.571429), 0.0, 3.12417, 0, 1, Vector2(1, 3.69559), 3.12417, 0.0, 1, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_liv7e"]
curve = SubResource("Curve_avfpp")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_61lre"]
shader = ExtResource("2_cdxa1")
shader_parameter/speed = 150.0
shader_parameter/spread = Vector2(48, 32)
shader_parameter/drag = 300.0
shader_parameter/spark_color = Color(1, 0.607843, 0.282353, 1)
shader_parameter/spark_chance = 0.2
shader_parameter/spark_size = 0.185
shader_parameter/spark_alpha_mult = 3.0
shader_parameter/base_velocity = null
shader_parameter/size = SubResource("CurveTexture_liv7e")
shader_parameter/color = SubResource("GradientTexture1D_ihtil")

[sub_resource type="Gradient" id="Gradient_t3xiv"]
interpolation_mode = 2
interpolation_color_space = 2
colors = PackedColorArray(1, 1, 1, 0.54902, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_v4qv1"]
gradient = SubResource("Gradient_t3xiv")
width = 16
height = 16
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_v1xyb"]
shader = ExtResource("3_khmqt")
shader_parameter/width = 1024.0
shader_parameter/height = 1024.0
shader_parameter/drift_speed = 4.0
shader_parameter/fade_time = 5.0
shader_parameter/parallax = 0.0

[node name="Player" type="RigidBody2D" groups=["Players"]]
collision_layer = 2
physics_material_override = SubResource("PhysicsMaterial_tuyrf")
script = ExtResource("1_n287t")
fire_rate = 5.0
auto_fire = true
max_linear_thrust = 256.0
max_linear_speed = 800.0
max_angular_thrust = 256.0
max_angular_speed = 16.0
angular_control_mode = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(-8, 8, 0, -12, 8, 8, 0, 4)

[node name="Interpolator" type="Node2D" parent="."]
script = ExtResource("2_kqvhg")

[node name="Polygon2D" type="Polygon2D" parent="Interpolator"]
antialiased = true
polygon = PackedVector2Array(-8, 8, 0, -12, 8, 8, 0, 4)

[node name="RocketParticles" type="GPUParticles2D" parent="Interpolator"]
material = SubResource("CanvasItemMaterial_3i2nj")
emitting = false
amount = 64
process_material = SubResource("ShaderMaterial_61lre")
texture = SubResource("GradientTexture2D_v4qv1")

[node name="Camera2D" type="Camera2D" parent="."]
top_level = true
script = ExtResource("2_ccbte")

[node name="AmbientParticles" type="GPUParticles2D" parent="Camera2D"]
z_index = -10
amount = 256
process_material = SubResource("ShaderMaterial_v1xyb")
lifetime = 10.0
preprocess = 10.0

[node name="MovementAbilityTimer" type="Timer" parent="."]

[node name="AttackAbilityTimer" type="Timer" parent="."]

[node name="ShotTimer" type="Timer" parent="."]

[connection signal="death" from="." to="." method="_on_death"]
[connection signal="kill" from="." to="." method="_on_kill"]
